"use strict";(self.webpackChunktracker=self.webpackChunktracker||[]).push([[508,827,516],{2866:function(e,t,n){n.d(t,{n:function(){return c}});var r=n(2284),a=(n(2675),n(9463),n(2010),n(6099),n(3362),n(2505)),o=n.n(a),i=n(14),s=n(1347),u=o().create({baseURL:"https://time.skillum.ru",headers:{"Content-type":"application/x-www-form-urlencoded"}});u.interceptors.response.use((function(e){return"object"===(0,r.A)(e.data)&&null!==e.data&&"token"in e.data&&(localStorage.setItem("token",e.data.token),delete e.data.token),e}),(function(e){return void 0!==e.response&&"status"in e.response&&401===e.response.status&&(0,i.W5)()&&((0,i.ri)(),location.reload()),Promise.reject(e)})),u.interceptors.request.use((function(e){return e.headers.token=(0,i.gf)(),e}));var c={auth:function(e,t,n){var r={login:e,password:t,action:n};return u.post("/api/auth",(0,s.u4)(r))},getTasks:function(e,t){var n=(0,s.Yq)(e),r=new Date(t.getTime());r.setDate(t.getDate()+1);var a="/api/tasks?interval="+n+"-"+(0,s.Yq)(r);return u.get(a)},getGroupedTasks:function(e,t){var n="/api/grouped_tasks?interval="+(0,s.Yq)(e)+"-"+(0,s.Yq)(t);return u.get(n)},getCurrentTask:function(){return u.get("/api/current")},getCompletitions:function(e){return e?u.get("/api/completitions?text="+e):u.get("/api/completitions")},getTrackers:function(){return u.get("/api/trackers")},getProjects:function(e){return u.get("/api/projects",{params:{projects:e}})},getUserProjects:function(){return u.get("/api/user_projects")},getUserTags:function(){return u.get("/api/user_tags")},getTrackerProjects:function(e){return u.get("/api/trackerProjects",{params:{id:e}})},getEvoUsers:function(){return u.get("/api/evoUsers")},addTask:function(e){return u.post("/api/task",(0,s.u4)({name:e}))},getToken:function(e,t,n){return u.post("/api/getToken",(0,s.u4)({id:e,login:t,password:n}))},getSettings:function(){return u.get("/api/settings")},saveSettings:function(e){return u.post("/api/settings",(0,s.u4)(e))},stopTask:function(e){return u.post("/api/task/stop",(0,s.u4)({id:e}))},resumeTask:function(e){return u.post("/api/task/resume",(0,s.u4)({id:e}))},updateTask:function(e){return u.post("/api/task/edit",(0,s.u4)({id:e.id,name:e.name,category:e.category,date:e.date,start_time:e.start_time,end_time:e.end_time,description:e.description,tags:e.tags}))},deleteTask:function(e){return u.post("/api/task/delete",(0,s.u4)({id:e}))},saveTracker:function(e){return u.post("/api/tracker",(0,s.u4)({id:e.id,title:e.title,type:e.type,api_url:e.api_url}))},linkProject:function(e,t,n){return u.post("/api/linkProject",(0,s.u4)({projectId:e,trackerId:t,trackerProjectId:null!==n?n.value:0,trackerProjectTitle:null!==n?n.label:0}))},saveEvoUser:function(e){return u.post("/api/evoUser",(0,s.u4)({id:e.value}))},deleteTracker:function(e){return u.post("/api/tracker/delete",(0,s.u4)({id:e.id}))},getTrackerTask:function(e,t){return u.get("/api/trackerTask",{params:{trackerId:e,taskId:t}})},getVersion:function(e){return u.get("/api/version?version="+e)},exportTask:function(e){return u.post("/api/task/export",(0,s.u4)(e))}};t.A=c},14:function(e,t,n){function r(){var e=localStorage.getItem("token");return null!==e&&""!==e}function a(){localStorage.removeItem("token")}function o(){return localStorage.getItem("token")}n.d(t,{W5:function(){return r},gf:function(){return o},ri:function(){return a}})},1347:function(e,t,n){function r(e){return Object.keys(e).reduce((function(t,n){return t.push(n+"="+encodeURIComponent(e[n])),t}),[]).join("&")}function a(e,t){if(null===e||""===e)return[];var n=[],r=e.split(" "),a=" ";return r.forEach((function(e,o){if(a.length>0){var i=a+" "+e;if(!(i.length>t))return o===r.length-1?void n.push(i):void(a=i);n.push(a),a=""}o!==r.length-1&&e.length<t?a=e:n.push(e)})),n}function o(e,t){return("0"+e.getDate()).slice(-2)+"."+("0"+(e.getMonth()+1)).slice(-2)+(void 0===t?"."+e.getFullYear():"")}function i(e){var t=Math.floor(e),n=Math.floor(60*(e-t));return n<10&&(n="0"+n),t+":"+n}n.d(t,{Yq:function(){return o},ad:function(){return i},u4:function(){return r},wR:function(){return a}}),n(8598),n(4782),n(9432),n(6099),n(3500)},2738:function(e,t,n){var r=n(4991),a=n.n(r),o=n(6314),i=n.n(o)()(a());i.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]),t.A=i},7604:function(e,t,n){n.r(t),n.d(t,{default:function(){return s}});var r=n(9744),a=n.n(r),o=n(3258),i={data:function(){return{selectedDate:{start:new Date,end:new Date},time:[new Date,new Date],shortcuts:[{text:"сегодня",start:new Date,end:new Date},{text:"вчера",start:new Date((new Date).setDate((new Date).getDate()-1)),end:new Date((new Date).setDate((new Date).getDate()-1))},{text:"эта неделя",start:new Date((new Date).setDate((new Date).getDate()-((new Date).getDay()||7)+1)),end:new Date((new Date).setDate((new Date).getDate()-((new Date).getDay()||7)+7))},{text:"прошлая",start:new Date((new Date).setDate((new Date).getDate()-((new Date).getDay()||7)-6)),end:new Date((new Date).setDate((new Date).getDate()-((new Date).getDay()||7)))}]}},methods:{onDateSelected:function(e){2===e.length&&null!==e[0]&&null!==e[1]&&(this.selectedDate.start=e[0],this.selectedDate.end=e[1],this.$refs.grouped_tasks.selectedDate=this.selectedDate,this.refreshData())},refreshData:function(){this.$refs.grouped_tasks.getTasks()}},components:{DatePicker:a(),ExportTasks:o.default},mounted:function(){this.$refs.rangeDatePicker.dateRange=this.selectedDate}},s=(0,n(4486).A)(i,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"md-layout md-gutter md-alignment-top-center center"},[t("div",{staticClass:"md-layout-item md-size-50"},[t("date-picker",{ref:"rangeDatePicker",attrs:{"first-day-of-week":1,confirm:"",lang:"ru",range:"",format:"DD.MM.YYYY",shortcuts:e.shortcuts},on:{change:e.onDateSelected},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)]),e._v(" "),t("ExportTasks",{ref:"grouped_tasks",attrs:{initialDate:e.selectedDate},on:{update:function(t){return e.refreshData()}}})],1)}),[],!1,null,null,null).exports},1516:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});var r=n(5072),a=n.n(r),o=n(2738),i=(a()(o.A,{insert:"head",singleton:!1}),o.A.locals,(0,n(4486).A)({template:"#new-post-modal-template",props:["show"],data:function(){return{title:"",body:""}},methods:{close:function(){this.$emit("close"),this.title="",this.body=""},savePost:function(){this.close()}}},(function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"modal"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"modal-mask"},[t("div",{staticClass:"modal-container"},[e._t("default")],2)])])}),[],!1,null,null,null).exports)},7829:function(e,t,n){var r=n(8183).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},9228:function(e,t,n){n(7495);var r=n(9565),a=n(6840),o=n(7323),i=n(9039),s=n(8227),u=n(6699),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,d){var p=s(e),f=!i((function(){var t={};return t[p]=function(){return 7},7!==""[e](t)})),g=f&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!f||!g||n){var v=/./[p],h=t(p,""[e],(function(e,t,n,a,i){var s=t.exec;return s===o||s===l.exec?f&&!i?{done:!0,value:r(v,t,n,a)}:{done:!0,value:r(e,n,t,a)}:{done:!1}}));a(String.prototype,e,h[0]),a(l,p,h[1])}d&&u(l[p],"sham",!0)}},2478:function(e,t,n){var r=n(9504),a=n(8981),o=Math.floor,i=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,p){var f=n+e.length,g=r.length,v=l;return void 0!==d&&(d=a(d),v=c),s(p,v,(function(a,s){var c;switch(i(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,f);case"<":c=d[u(s,1,-1)];break;default:var l=+s;if(0===l)return a;if(l>g){var p=o(l/10);return 0===p?a:p<=g?void 0===r[p-1]?i(s,1):r[p-1]+i(s,1):a}c=r[l-1]}return void 0===c?"":c}))}},6682:function(e,t,n){var r=n(9565),a=n(8551),o=n(4901),i=n(4576),s=n(7323),u=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var c=r(n,e,t);return null!==c&&a(c),c}if("RegExp"===i(e))return r(s,e,t);throw new u("RegExp#exec called on incompatible receiver")}},7323:function(e,t,n){var r,a,o=n(9565),i=n(9504),s=n(655),u=n(7979),c=n(8429),l=n(5745),d=n(2360),p=n(1181).get,f=n(3635),g=n(8814),v=l("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,k=h,x=i("".charAt),D=i("".indexOf),m=i("".replace),w=i("".slice),I=(a=/b*/g,o(h,r=/a/,"a"),o(h,a,"a"),0!==r.lastIndex||0!==a.lastIndex),y=c.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(I||T||y||f||g)&&(k=function(e){var t,n,r,a,i,c,l,f=this,g=p(f),E=s(e),_=g.raw;if(_)return _.lastIndex=f.lastIndex,t=o(k,_,E),f.lastIndex=_.lastIndex,t;var b=g.groups,R=y&&f.sticky,$=o(u,f),j=f.source,S=0,P=E;if(R&&($=m($,"y",""),-1===D($,"g")&&($+="g"),P=w(E,f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==x(E,f.lastIndex-1))&&(j="(?: "+j+")",P=" "+P,S++),n=new RegExp("^(?:"+j+")",$)),T&&(n=new RegExp("^"+j+"$(?!\\s)",$)),I&&(r=f.lastIndex),a=o(h,R?n:f,P),R?a?(a.input=w(a.input,S),a[0]=w(a[0],S),a.index=f.lastIndex,f.lastIndex+=a[0].length):f.lastIndex=0:I&&a&&(f.lastIndex=f.global?a.index+a[0].length:r),T&&a&&a.length>1&&o(v,a[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(a[i]=void 0)})),a&&b)for(a.groups=c=d(null),i=0;i<b.length;i++)c[(l=b[i])[0]]=a[l[1]];return a}),e.exports=k},7979:function(e,t,n){var r=n(8551);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8429:function(e,t,n){var r=n(9039),a=n(4475).RegExp,o=r((function(){var e=a("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),i=o||r((function(){return!a("a","y").sticky})),s=o||r((function(){var e=a("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:s,MISSED_STICKY:i,UNSUPPORTED_Y:o}},3635:function(e,t,n){var r=n(9039),a=n(4475).RegExp;e.exports=r((function(){var e=a(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},8814:function(e,t,n){var r=n(9039),a=n(4475).RegExp;e.exports=r((function(){var e=a("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},7495:function(e,t,n){var r=n(6518),a=n(7323);r({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},5440:function(e,t,n){var r=n(8745),a=n(9565),o=n(9504),i=n(9228),s=n(9039),u=n(8551),c=n(4901),l=n(4117),d=n(1291),p=n(8014),f=n(655),g=n(7750),v=n(7829),h=n(5966),k=n(2478),x=n(6682),D=n(8227)("replace"),m=Math.max,w=Math.min,I=o([].concat),y=o([].push),T=o("".indexOf),E=o("".slice),_="$0"==="a".replace(/./,"$0"),b=!!/./[D]&&""===/./[D]("a","$0");i("replace",(function(e,t,n){var o=b?"$":"$0";return[function(e,n){var r=g(this),o=l(e)?void 0:h(e,D);return o?a(o,e,r,n):a(t,f(r),e,n)},function(e,a){var i=u(this),s=f(e);if("string"==typeof a&&-1===T(a,o)&&-1===T(a,"$<")){var l=n(t,i,s,a);if(l.done)return l.value}var g=c(a);g||(a=f(a));var h,D=i.global;D&&(h=i.unicode,i.lastIndex=0);for(var _,b=[];null!==(_=x(i,s))&&(y(b,_),D);)""===f(_[0])&&(i.lastIndex=v(s,p(i.lastIndex),h));for(var R,$="",j=0,S=0;S<b.length;S++){for(var P,A=f((_=b[S])[0]),C=m(w(d(_.index),s.length),0),Y=[],U=1;U<_.length;U++)y(Y,void 0===(R=_[U])?R:String(R));var M=_.groups;if(g){var q=I([A],Y,C,s);void 0!==M&&y(q,M),P=f(r(a,void 0,q))}else P=k(A,s,C,Y,M,a);C>=j&&($+=E(s,j,C)+P,j=C+A.length)}return $+E(s,j)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!_||b)}}]);